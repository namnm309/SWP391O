(()=>{var e={};e.id=189,e.ids=[189],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9238:(e,a,t)=>{"use strict";t.d(a,{F:()=>n});var s=t(60687),r=t(63503);function n({title:e,description:a,isOpen:t,onClose:n,children:i}){return(0,s.jsx)(r.lG,{open:t,onOpenChange:n,children:(0,s.jsxs)(r.Cf,{className:"max-h-[90vh] min-w-[60svw] overflow-y-auto",children:[(0,s.jsxs)(r.c7,{children:[(0,s.jsx)(r.L3,{children:e}),a&&(0,s.jsx)(r.rr,{children:a})]}),i]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23026:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33863:(e,a,t)=>{Promise.resolve().then(t.bind(t,43865))},33873:e=>{"use strict";e.exports=require("path")},40228:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41550:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},43865:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/staff-management/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/staff-management/page.tsx","default")},48340:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},55146:(e,a,t)=>{"use strict";t.d(a,{B8:()=>E,UC:()=>_,bL:()=>S,l9:()=>q});var s=t(43210),r=t(70569),n=t(11273),i=t(72942),l=t(46059),d=t(14163),o=t(43),c=t(65551),u=t(96963),m=t(60687),x="Tabs",[p,h]=(0,n.A)(x,[i.RG]),f=(0,i.RG)(),[g,v]=p(x),j=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,onValueChange:r,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:x="automatic",...p}=e,h=(0,o.jH)(l),[f,v]=(0,c.i)({prop:s,onChange:r,defaultProp:n});return(0,m.jsx)(g,{scope:t,baseId:(0,u.B)(),value:f,onValueChange:v,orientation:i,dir:h,activationMode:x,children:(0,m.jsx)(d.sG.div,{dir:h,"data-orientation":i,...p,ref:a})})});j.displayName=x;var y="TabsList",b=s.forwardRef((e,a)=>{let{__scopeTabs:t,loop:s=!0,...r}=e,n=v(y,t),l=f(t);return(0,m.jsx)(i.bL,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:s,children:(0,m.jsx)(d.sG.div,{role:"tablist","aria-orientation":n.orientation,...r,ref:a})})});b.displayName=y;var N="TabsTrigger",w=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:s,disabled:n=!1,...l}=e,o=v(N,t),c=f(t),u=A(o.baseId,s),x=P(o.baseId,s),p=s===o.value;return(0,m.jsx)(i.q7,{asChild:!0,...c,focusable:!n,active:p,children:(0,m.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...l,ref:a,onMouseDown:(0,r.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,r.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,r.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;p||n||!e||o.onValueChange(s)})})})});w.displayName=N;var k="TabsContent",C=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,forceMount:n,children:i,...o}=e,c=v(k,t),u=A(c.baseId,r),x=P(c.baseId,r),p=r===c.value,h=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.C,{present:n||p,children:({present:t})=>(0,m.jsx)(d.sG.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:x,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&i})})});function A(e,a){return`${e}-trigger-${a}`}function P(e,a){return`${e}-content-${a}`}C.displayName=k;var S=j,E=b,q=w,_=C},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58869:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},61673:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=t(65239),r=t(48088),n=t(88170),i=t.n(n),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(a,d);let o={children:["",{children:["(dashboard)",{children:["staff-management",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43865)),"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/staff-management/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,57675)),"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/staff-management/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(dashboard)/staff-management/page",pathname:"/staff-management",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>c,L3:()=>m,c7:()=>u,lG:()=>l,rr:()=>x});var s=t(60687);t(43210);var r=t(26134),n=t(11860),i=t(4780);function l({...e}){return(0,s.jsx)(r.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function o({className:e,...a}){return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...a})}function c({className:e,children:a,...t}){return(0,s.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,s.jsx)(o,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg min-w-fit",e),...t,children:[a,(0,s.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function m({className:e,...a}){return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...a})}function x({className:e,...a}){return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...a})}},67623:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>_});var s=t(60687),r=t(43210),n=t(13861),i=t(62688);let l=(0,i.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),d=(0,i.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var o=t(88233),c=t(23026),u=t(78304),m=t(29523),x=t(44493),p=t(29867),h=t(96834),f=t(93500),g=t(41550),v=t(48340),j=t(40228),y=t(58869),b=t(63503),N=t(32584),w=t(35950),k=t(85763);function C({isOpen:e,onClose:a,staff:t}){let{toast:r}=(0,p.dj)();return t?(0,s.jsx)(b.lG,{open:e,onOpenChange:a,children:(0,s.jsxs)(b.Cf,{className:"max-w-3xl",children:[(0,s.jsx)(b.c7,{children:(0,s.jsx)(b.L3,{children:"Staff Details"})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(N.eu,{className:"h-16 w-16",children:[(0,s.jsx)(N.BK,{src:t.avatarUrl||"",alt:t.fullname}),(0,s.jsx)(N.q5,{children:t.fullname})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:t.fullname}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["@",t.username]}),(0,s.jsxs)("div",{className:"mt-1 flex gap-2",children:[t.roles.map((e,a)=>(0,s.jsx)(h.E,{variant:"outline",children:e.name.replace("ROLE_","")},a)),t.enabled?(0,s.jsx)(h.E,{className:"bg-green-100 text-green-800",children:"Active"}):(0,s.jsx)(h.E,{className:"bg-red-100 text-red-800",children:"Inactive"})]})]})]}),(0,s.jsxs)(k.tU,{defaultValue:"profile",children:[(0,s.jsxs)(k.j7,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(k.Xi,{value:"profile",children:"Profile"}),(0,s.jsx)(k.Xi,{value:"roles",children:"Roles & Permissions"})]}),(0,s.jsxs)(k.av,{value:"profile",className:"space-y-4 pt-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(g.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Email"})]}),(0,s.jsx)("p",{className:"font-medium",children:t.email})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Phone"})]}),(0,s.jsx)("p",{className:"font-medium",children:t.phone})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Date of Birth"})]}),(0,s.jsx)("p",{className:"font-medium",children:new Date(t.bod).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Gender"})]}),(0,s.jsx)("p",{className:"font-medium",children:t.gender})]})]}),(0,s.jsx)(w.w,{}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Height"}),(0,s.jsxs)("p",{className:"font-medium",children:[t.height," cm"]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Weight"}),(0,s.jsxs)("p",{className:"font-medium",children:[t.weight," kg"]})]})]})]}),(0,s.jsxs)(k.av,{value:"roles",className:"space-y-4 pt-4",children:[t.roles.map((e,a)=>(0,s.jsxs)(x.Zp,{children:[(0,s.jsxs)(x.aR,{children:[(0,s.jsx)(x.ZB,{children:e.name.replace("ROLE_","")}),(0,s.jsx)(x.BT,{children:e.description})]}),(0,s.jsxs)(x.Wu,{children:[(0,s.jsx)("h4",{className:"mb-2 font-medium",children:"Permissions:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.permissions.map((e,a)=>(0,s.jsxs)("div",{className:"rounded-md border p-2",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]},a))})]})]},a)),0===t.roles.length&&(0,s.jsx)("div",{className:"rounded-md border border-dashed p-4 text-center text-gray-500",children:"No roles assigned to this staff member"})]})]})]})]})}):null}var A=t(47295),P=t(9238),S=t(89667),E=t(80013);function q({onClose:e}){let{toast:a}=(0,p.dj)(),[t,n]=(0,r.useState)({username:"",fullname:"",password:"",email:"",phone:"",bod:"",gender:"Male"}),[i,l]=(0,r.useState)(null),[d,o]=(0,r.useState)(!1),c=e=>{let{name:a,value:t}=e.target;n(e=>({...e,[a]:t}))},u=async s=>{s.preventDefault(),o(!0);try{let s=new FormData;s.append("username",t.username),s.append("fullname",t.fullname),s.append("password",t.password),s.append("email",t.email),s.append("phone",t.phone),s.append("bod",t.bod),s.append("gender",t.gender),i&&s.append("avatar",i),await A.A.post("/manage/createStaff",s,{headers:{"Content-Type":"multipart/form-data"}}),a({title:"Success",description:"Staff created successfully"}),e()}catch(e){a({title:"Error",description:e?.response?.data?.message||e.message,variant:"destructive"})}finally{o(!1)}};return(0,s.jsx)(P.F,{title:"Create Staff",description:"Fill in the details to create a new staff member",isOpen:!0,onClose:e,children:(0,s.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"username",children:"Username"}),(0,s.jsx)(S.p,{id:"username",name:"username",value:t.username,onChange:c,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"fullname",children:"Full Name"}),(0,s.jsx)(S.p,{id:"fullname",name:"fullname",value:t.fullname,onChange:c,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"password",children:"Password"}),(0,s.jsx)(S.p,{id:"password",name:"password",type:"password",value:t.password,onChange:c,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(S.p,{id:"email",name:"email",type:"email",value:t.email,onChange:c,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"phone",children:"Phone"}),(0,s.jsx)(S.p,{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:c,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"bod",children:"Date of Birth"}),(0,s.jsx)(S.p,{id:"bod",name:"bod",type:"date",value:t.bod,onChange:c,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"gender",children:"Gender"}),(0,s.jsxs)("select",{id:"gender",name:"gender",value:t.gender,onChange:e=>n(a=>({...a,gender:e.target.value})),className:"w-full rounded-md border border-gray-300 p-2",children:[(0,s.jsx)("option",{value:"Male",children:"Male"}),(0,s.jsx)("option",{value:"Female",children:"Female"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"avatar",children:"Avatar"}),(0,s.jsx)(S.p,{id:"avatar",name:"avatar",type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files.length>0&&l(e.target.files[0])}})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,s.jsx)(m.$,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),(0,s.jsx)(m.$,{type:"submit",disabled:d,children:d?"Creating...":"Create Staff"})]})]})})}function _(){let{toast:e}=(0,p.dj)(),[a,t]=(0,r.useState)([]),[i,g]=(0,r.useState)(!0),[v,j]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[k,P]=(0,r.useState)(!1),[S,E]=(0,r.useState)(null),_=async()=>{try{g(!0);let e=localStorage.getItem("token"),a=(await A.A.get("/manage/staff-list",{headers:{Authorization:`Bearer ${e}`}})).data.result||[];t(a)}catch(a){e({title:"Error",description:"Failed to load staff members",variant:"destructive"})}finally{g(!1)}},z=e=>{let t=a.find(a=>a.id===e);t&&(j(t),w(!0))},F=e=>{E(e),P(!0)},M=async()=>{if(S)try{let a=localStorage.getItem("token");await A.A.delete(`/manage/${S}`,{headers:{Authorization:`Bearer ${a}`}}),await _(),e({title:"Success",description:"Staff member deleted successfully"})}catch(a){e({title:"Error",description:"Failed to delete staff member",variant:"destructive"})}finally{E(null),P(!1)}},L=async t=>{let s=a.find(e=>e.id===t);if(s)try{let a=localStorage.getItem("token"),r={enabled:!s.enabled,roles:s.roles};await A.A.put(`/manage/update-staff/${t}`,r,{headers:{Authorization:`Bearer ${a}`}}),await _(),e({title:"Success",description:"Staff status updated successfully"})}catch(a){e({title:"Error",description:"Failed to update staff status",variant:"destructive"})}},R=[{accessorKey:"id",header:"ID"},{accessorKey:"fullname",header:"Name"},{accessorKey:"email",header:"Email"},{accessorKey:"roles",header:"Role",cell:({row:e})=>{let a=e.getValue("roles");return(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:a.map((e,a)=>(0,s.jsx)(h.E,{variant:"outline",children:e.name.replace("ROLE_","")},a))})}},{accessorKey:"enabled",header:"Status",cell:({row:e})=>e.getValue("enabled")?(0,s.jsx)(h.E,{className:"bg-green-100 text-green-800",children:"Active"}):(0,s.jsx)(h.E,{className:"bg-red-100 text-red-800",children:"Inactive"})},{id:"actions",header:"Actions",cell:({row:e})=>{let a=e.getValue("id"),t=e.getValue("enabled");return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(m.$,{variant:"outline",size:"sm",onClick:()=>z(a),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}),(0,s.jsx)(m.$,{variant:"outline",size:"sm",onClick:()=>L(a),className:t?"text-red-500 hover:text-red-700":"text-green-500 hover:text-green-700",children:t?(0,s.jsx)(l,{className:"h-4 w-4"}):(0,s.jsx)(d,{className:"h-4 w-4"})}),(0,s.jsx)(m.$,{variant:"outline",size:"sm",onClick:()=>F(a),className:"text-red-500 hover:text-red-700",children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]})}}];return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Staff Management"}),(0,s.jsxs)(m.$,{onClick:()=>b(!0),children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Add Staff"]})]}),(0,s.jsxs)(x.Zp,{children:[(0,s.jsx)(x.aR,{children:(0,s.jsx)(x.ZB,{children:"All Staff Members"})}),(0,s.jsx)(x.Wu,{children:i?(0,s.jsx)("div",{className:"flex h-40 items-center justify-center",children:(0,s.jsx)("p",{children:"Loading staff members..."})}):(0,s.jsx)(u.b,{columns:R,data:a,searchColumn:"fullname",searchPlaceholder:"Search by name..."})})]}),y&&(0,s.jsx)(q,{onClose:()=>b(!1)}),(0,s.jsx)(C,{isOpen:N,onClose:()=>w(!1),staff:v}),(0,s.jsx)(f.Lt,{open:k,onOpenChange:P,children:(0,s.jsxs)(f.EO,{children:[(0,s.jsxs)(f.wd,{children:[(0,s.jsx)(f.r7,{children:"Are you sure?"}),(0,s.jsx)(f.$v,{children:"This action cannot be undone. This will permanently delete the staff member and remove their data from our servers."})]}),(0,s.jsxs)(f.ck,{children:[(0,s.jsx)(f.Zr,{children:"Cancel"}),(0,s.jsx)(f.Rx,{onClick:M,className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,a,t)=>{"use strict";t.d(a,{b:()=>l});var s=t(43210),r=t(14163),n=t(60687),i=s.forwardRef((e,a)=>(0,n.jsx)(r.sG.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=i},79551:e=>{"use strict";e.exports=require("url")},80013:(e,a,t)=>{"use strict";t.d(a,{J:()=>i});var s=t(60687);t(43210);var r=t(78148),n=t(4780);function i({className:e,...a}){return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},85763:(e,a,t)=>{"use strict";t.d(a,{Xi:()=>d,av:()=>o,j7:()=>l,tU:()=>i});var s=t(60687);t(43210);var r=t(55146),n=t(4780);function i({className:e,...a}){return(0,s.jsx)(r.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",e),...a})}function l({className:e,...a}){return(0,s.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",e),...a})}function d({className:e,...a}){return(0,s.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function o({className:e,...a}){return(0,s.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",e),...a})}},88233:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},93500:(e,a,t)=>{"use strict";t.d(a,{$v:()=>p,EO:()=>c,Lt:()=>l,Rx:()=>h,Zr:()=>f,ck:()=>m,r7:()=>x,wd:()=>u});var s=t(60687);t(43210);var r=t(97895),n=t(4780),i=t(29523);function l({...e}){return(0,s.jsx)(r.bL,{"data-slot":"alert-dialog",...e})}function d({...e}){return(0,s.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...e})}function o({className:e,...a}){return(0,s.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...a})}function c({className:e,...a}){return(0,s.jsxs)(d,{children:[(0,s.jsx)(o,{}),(0,s.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a})]})}function u({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function m({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function x({className:e,...a}){return(0,s.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",e),...a})}function p({className:e,...a}){return(0,s.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...a})}function h({className:e,...a}){return(0,s.jsx)(r.rc,{className:(0,n.cn)((0,i.r)(),e),...a})}function f({className:e,...a}){return(0,s.jsx)(r.ZD,{className:(0,n.cn)((0,i.r)({variant:"outline"}),e),...a})}},94735:e=>{"use strict";e.exports=require("events")},99359:(e,a,t)=>{Promise.resolve().then(t.bind(t,67623))}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[447,169,278,437,478,474,283,407,209,673],()=>t(61673));module.exports=s})();