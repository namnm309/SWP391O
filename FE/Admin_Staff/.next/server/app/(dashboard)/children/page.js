(()=>{var e={};e.id=216,e.ids=[216],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9238:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});var r=a(60687),s=a(63503);function n({title:e,description:t,isOpen:a,onClose:n,children:l}){return(0,r.jsx)(s.lG,{open:a,onOpenChange:n,children:(0,r.jsxs)(s.Cf,{className:"max-h-[90vh] min-w-[60svw] overflow-y-auto",children:[(0,r.jsxs)(s.c7,{children:[(0,r.jsx)(s.L3,{children:e}),t&&(0,r.jsx)(s.rr,{children:t})]}),l]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23026:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},40228:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},40363:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(60687),s=a(43210),n=a(13861),l=a(23026),i=a(78304),d=a(29523),o=a(44493),c=a(29867),u=a(47295),h=a(93500),p=a(40228),x=a(58869),m=a(63503),g=a(32584),f=a(35950);function j({isOpen:e,onClose:t,user:a}){return a?(console.log("user: ",a),(0,r.jsx)(m.lG,{open:e,onOpenChange:t,children:(0,r.jsxs)(m.Cf,{className:"max-w-md",children:[(0,r.jsx)(m.c7,{children:(0,r.jsx)(m.L3,{children:"User Details"})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(g.eu,{className:"h-16 w-16",children:[(0,r.jsx)(g.BK,{src:a.avatarUrl||"",alt:a.fullname}),(0,r.jsx)(g.q5,{children:a.fullname.split(" ").map(e=>e[0]).join("").toUpperCase()})]}),(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-xl font-semibold",children:a.fullname})})]}),(0,r.jsx)(f.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Date of Birth"})]}),(0,r.jsx)("p",{className:"font-medium",children:a.birthDate?new Date(a.birthDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Gender"})]}),(0,r.jsx)("p",{className:"font-medium",children:a.gender})]})]})]})]})})):null}var v=a(9238),y=a(89667),b=a(80013);function N({onClose:e}){let{toast:t}=(0,c.dj)(),[a,n]=(0,s.useState)({parentId:"",fullname:"",dob:"",gender:"",height:"",weight:"",relationshipType:"CHA_ME"}),[l,i]=(0,s.useState)(null),[o,h]=(0,s.useState)(!1),p=e=>{let{name:t,value:a}=e.target;n(e=>({...e,[t]:a}))},x=async r=>{r.preventDefault(),h(!0);try{if(!a.parentId){t({title:"Error",description:"Please enter Parent ID",variant:"destructive"});return}let r=new FormData;r.append("fullname",a.fullname),r.append("dob",a.dob),r.append("gender",a.gender),r.append("height",a.height),r.append("weight",a.weight),r.append("relationshipType",a.relationshipType),l&&r.append("avatar",l),await u.A.post(`/manage/children/create/${Number(a.parentId)}`,r,{headers:{"Content-Type":"multipart/form-data"}}),t({title:"Success",description:"Child created successfully"}),e()}catch(e){t({title:"Error",description:e?.response?.data?.message||e.message,variant:"destructive"})}finally{h(!1)}};return(0,r.jsx)(v.F,{title:"Create Child",description:"Fill in the details to create a new child record",isOpen:!0,onClose:e,children:(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"parentId",children:"Parent ID"}),(0,r.jsx)(y.p,{id:"parentId",name:"parentId",type:"number",value:a.parentId,onChange:p,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"fullname",children:"Full Name"}),(0,r.jsx)(y.p,{id:"fullname",name:"fullname",value:a.fullname,onChange:p,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"dob",children:"Date of Birth"}),(0,r.jsx)(y.p,{id:"dob",name:"dob",type:"date",value:a.dob,onChange:p,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"gender",children:"Gender"}),(0,r.jsxs)("select",{id:"gender",name:"gender",value:a.gender,onChange:e=>n(t=>({...t,gender:e.target.value})),className:"w-full rounded-md border border-gray-300 p-2",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select gender"}),(0,r.jsx)("option",{value:"Male",children:"Male"}),(0,r.jsx)("option",{value:"Female",children:"Female"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"height",children:"Height (cm)"}),(0,r.jsx)(y.p,{id:"height",name:"height",type:"number",value:a.height,onChange:p,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"weight",children:"Weight (kg)"}),(0,r.jsx)(y.p,{id:"weight",name:"weight",type:"number",value:a.weight,onChange:p,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"relationshipType",children:"Relationship Type"}),(0,r.jsxs)("select",{id:"relationshipType",name:"relationshipType",value:a.relationshipType,onChange:e=>n(t=>({...t,relationshipType:e.target.value})),className:"w-full rounded-md border border-gray-300 p-2",required:!0,children:[(0,r.jsx)("option",{value:"CHA_ME",children:"Cha/Mẹ"}),(0,r.jsx)("option",{value:"ONG_BA",children:"\xd4ng/B\xe0"}),(0,r.jsx)("option",{value:"ANH_CHI",children:"Anh/Chị"}),(0,r.jsx)("option",{value:"CHU_THIEM",children:"Ch\xfa/Th\xedm"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(b.J,{htmlFor:"avatar",children:"Avatar"}),(0,r.jsx)(y.p,{id:"avatar",name:"avatar",type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files.length>0&&i(e.target.files[0])}})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,r.jsx)(d.$,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),(0,r.jsx)(d.$,{type:"submit",disabled:o,children:o?"Creating...":"Create Child"})]})]})})}function w(){let{toast:e}=(0,c.dj)(),[t,a]=(0,s.useState)([]),[p,x]=(0,s.useState)(!0),[m,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[w,C]=(0,s.useState)(null),[P,k]=(0,s.useState)(!1);(0,s.useCallback)(async()=>{try{x(!0);let e=localStorage.getItem("token"),t=await u.A.get("/manage/children",{headers:{Authorization:`Bearer ${e}`}}),r=t.data.result||t.data||[];a(r)}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to load users",variant:"destructive"})}finally{x(!1)}},[e]);let S=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),q=e=>{let a=t.find(t=>t.childId===e);a&&(g(a),v(!0))},A=async()=>{if(w)try{a(e=>e.filter(e=>e.childId!==w)),e({title:"Success",description:"User deleted successfully"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to delete user",variant:"destructive"})}finally{C(null),b(!1)}},_=[{accessorKey:"childId",header:"ID",cell:({row:e})=>e.getValue("childId")||"-"},{accessorKey:"fullname",header:"Name"},{accessorKey:"birthDate",header:"DoB",cell:({row:e})=>e.getValue("birthDate")?S(e.getValue("birthDate")):"-"},{accessorKey:"gender",header:"Gender",cell:({row:e})=>(0,r.jsx)("span",{className:"capitalize",children:e.getValue("gender")||"-"})},{id:"actions",header:"Actions",cell:({row:e})=>{let t=e.getValue("childId");return(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>q(t),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})}}];return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Children Management"}),(0,r.jsxs)(d.$,{onClick:()=>k(!0),children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Add Child"]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"All Users"})}),(0,r.jsx)(o.Wu,{children:p?(0,r.jsx)("div",{className:"flex h-40 items-center justify-center",children:(0,r.jsx)("p",{children:"Loading users..."})}):(0,r.jsx)(i.b,{columns:_,data:t,searchColumn:"fullname",searchPlaceholder:"Search by name..."})})]}),(0,r.jsx)(j,{isOpen:f,onClose:()=>v(!1),user:m}),P&&(0,r.jsx)(N,{onClose:()=>k(!1)}),(0,r.jsx)(h.Lt,{open:y,onOpenChange:b,children:(0,r.jsxs)(h.EO,{children:[(0,r.jsxs)(h.wd,{children:[(0,r.jsx)(h.r7,{children:"Are you sure?"}),(0,r.jsx)(h.$v,{children:"This action cannot be undone. This will permanently delete the user and remove their data from our servers."})]}),(0,r.jsxs)(h.ck,{children:[(0,r.jsx)(h.Zr,{children:"Cancel"}),(0,r.jsx)(h.Rx,{onClick:A,className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}},43226:(e,t,a)=>{Promise.resolve().then(a.bind(a,40363))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58869:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>c,L3:()=>h,c7:()=>u,lG:()=>i,rr:()=>p});var r=a(60687);a(43210);var s=a(26134),n=a(11860),l=a(4780);function i({...e}){return(0,r.jsx)(s.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,r.jsx)(s.ZL,{"data-slot":"dialog-portal",...e})}function o({className:e,...t}){return(0,r.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function c({className:e,children:t,...a}){return(0,r.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,r.jsx)(o,{}),(0,r.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg min-w-fit",e),...a,children:[t,(0,r.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function h({className:e,...t}){return(0,r.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",e),...t})}function p({className:e,...t}){return(0,r.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...t})}},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,a)=>{"use strict";a.d(t,{b:()=>i});var r=a(43210),s=a(14163),n=a(60687),l=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(60687);a(43210);var s=a(78148),n=a(4780);function l({className:e,...t}){return(0,r.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},85547:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o});var r=a(65239),s=a(48088),n=a(88170),l=a.n(n),i=a(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let o={children:["",{children:["(dashboard)",{children:["children",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,95684)),"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/children/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,57675)),"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/children/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/children/page",pathname:"/children",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},93500:(e,t,a)=>{"use strict";a.d(t,{$v:()=>x,EO:()=>c,Lt:()=>i,Rx:()=>m,Zr:()=>g,ck:()=>h,r7:()=>p,wd:()=>u});var r=a(60687);a(43210);var s=a(97895),n=a(4780),l=a(29523);function i({...e}){return(0,r.jsx)(s.bL,{"data-slot":"alert-dialog",...e})}function d({...e}){return(0,r.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...e})}function o({className:e,...t}){return(0,r.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function c({className:e,...t}){return(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{}),(0,r.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function u({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function h({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function p({className:e,...t}){return(0,r.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",e),...t})}function x({className:e,...t}){return(0,r.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}function m({className:e,...t}){return(0,r.jsx)(s.rc,{className:(0,n.cn)((0,l.r)(),e),...t})}function g({className:e,...t}){return(0,r.jsx)(s.ZD,{className:(0,n.cn)((0,l.r)({variant:"outline"}),e),...t})}},94735:e=>{"use strict";e.exports=require("events")},95684:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/children/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vinhnguyen/Personal_project/freelance/SW391/SWP391-FE/src/app/(dashboard)/children/page.tsx","default")},96370:(e,t,a)=>{Promise.resolve().then(a.bind(a,95684))}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[447,169,278,437,478,474,283,407,209,673],()=>a(85547));module.exports=r})();