"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{17313:(e,t,a)=>{a.d(t,{Xi:()=>i,av:()=>o,j7:()=>l,tU:()=>c});var s=a(95155);a(12115);var n=a(60704),r=a(59434);function c(e){let{className:t,...a}=e;return(0,s.jsx)(n.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...a})}},46879:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(95155),n=a(12115),r=a(88473),c=a(66695),l=a(17580),i=a(33761),o=a(55868),d=a(17313),u=a(83540),x=a(56965),m=a(94754),h=a(96025),f=a(16238),j=a(94517),g=a(24026),v=a(21374),p=a(3917);function y(){let[e,t]=(0,n.useState)("7days"),[a,y]=(0,n.useState)([]),[b,N]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token"),t=(await r.A.get("/dashboard/chart?days=30",{headers:{Authorization:"Bearer ".concat(e)}})).data;if(1e3===t.code){let e=t.result.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());y(e)}}catch(e){console.error("Error fetching chart data:",e)}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{let t=Number(e.replace("days","")),a=localStorage.getItem("token"),s=(await r.A.get("/dashboard/top-5-vaccines?days=".concat(t),{headers:{Authorization:"Bearer ".concat(a)}})).data;1e3===s.code&&N(s.result)}catch(e){console.error("Error fetching top vaccines data:",e)}})()},[e]);let w=Number(e.replace("days","")),k=a.slice(-w),A=a.length>0?a[a.length-1]:null,D=[{title:"New User Today",value:A?A.newUser:"-",icon:l.A,color:"text-blue-600"},{title:"Vaccinations Today",value:A?A.countVaccine:"-",icon:i.A,color:"text-green-600"},{title:"Revenue Today",value:A?"".concat(p.b.formatPrice(A.revenueInDay)):"-",icon:o.A,color:"text-purple-600"}];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-3",children:D.map(e=>(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(c.ZB,{className:"text-sm font-medium",children:e.title}),(0,s.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)})]}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.value})})]},e.title))}),(0,s.jsxs)("div",{className:"grid gap-6 grid-cols-4",children:[(0,s.jsxs)(c.Zp,{className:"col-span-3",children:[(0,s.jsx)(c.aR,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(c.ZB,{children:"Performance Metrics"}),(0,s.jsx)(d.tU,{defaultValue:"7days",value:e,onValueChange:e=>t(e),children:(0,s.jsxs)(d.j7,{children:[(0,s.jsx)(d.Xi,{value:"7days",children:"7 Days"}),(0,s.jsx)(d.Xi,{value:"15days",children:"15 Days"}),(0,s.jsx)(d.Xi,{value:"30days",children:"30 Days"})]})})]})}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(u.u,{width:"100%",height:"100%",children:(0,s.jsxs)(x.b,{data:k,margin:{top:5,right:30,left:20,bottom:5},children:[(0,s.jsx)(m.d,{strokeDasharray:"3 3"}),(0,s.jsx)(h.W,{dataKey:"date"}),(0,s.jsx)(f.h,{yAxisId:"left",orientation:"left",stroke:"#3b82f6"}),(0,s.jsx)(f.h,{yAxisId:"right",orientation:"right",stroke:"#8b5cf6",tickFormatter:e=>new Intl.NumberFormat("vn-VN",{style:"currency",currency:"VND"}).format(e)}),(0,s.jsx)(j.m,{content:(0,s.jsx)(e=>{let{active:t,payload:a,label:n}=e;return t&&a&&a.length?(0,s.jsxs)("div",{className:"rounded border bg-white p-3 shadow-md",children:[(0,s.jsx)("p",{className:"mb-2 font-medium",children:n}),a.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,s.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.stroke}}),(0,s.jsxs)("p",{className:"text-sm",style:{color:e.stroke},children:[e.name,":"," ","Revenue"===e.name?p.b.formatPrice(e.value):e.value]})]},e.name))]}):null},{}),wrapperStyle:{outline:"none"},cursor:{strokeDasharray:"3 3"}}),(0,s.jsx)(g.s,{}),(0,s.jsx)(v.N,{yAxisId:"left",type:"monotone",dataKey:"newUser",stroke:"#3b82f6",strokeWidth:2,activeDot:{r:6},name:"Users"}),(0,s.jsx)(v.N,{yAxisId:"right",type:"monotone",dataKey:"revenueInDay",stroke:"#8b5cf6",strokeWidth:2,activeDot:{r:6},name:"Revenue"}),(0,s.jsx)(v.N,{yAxisId:"left",type:"monotone",dataKey:"countVaccine",stroke:"#10b981",strokeWidth:2,activeDot:{r:6},name:"Vaccines"})]})})})})]}),(0,s.jsxs)(c.Zp,{className:"col-span-1",children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{children:"Top Vaccines"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:b.length>0?b.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-700",children:t+1}),(0,s.jsx)("span",{children:e.name})]}),(0,s.jsxs)("span",{className:"font-medium",children:[e.dose," doses"]})]},e.name)):(0,s.jsx)("p",{children:"No vaccine data available."})})})]})]})]})}},59434:(e,t,a)=>{a.d(t,{cn:()=>r});var s=a(52596),n=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}},66695:(e,t,a)=>{a.d(t,{BT:()=>i,Wu:()=>o,ZB:()=>l,Zp:()=>r,aR:()=>c,wL:()=>d});var s=a(95155);a(12115);var n=a(59434);function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("flex flex-col gap-1.5 px-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6",t),...a})}},88473:(e,t,a)=>{a.d(t,{A:()=>n});let s=a(23464).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let n=s}}]);