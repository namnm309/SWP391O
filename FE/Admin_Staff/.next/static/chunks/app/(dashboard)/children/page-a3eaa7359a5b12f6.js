(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{17649:(e,t,a)=>{"use strict";a.d(t,{UC:()=>R,VY:()=>V,ZD:()=>U,ZL:()=>L,bL:()=>z,hE:()=>O,hJ:()=>E,rc:()=>I});var r=a(12115),s=a(46081),l=a(6101),n=a(15452),i=a(85185),o=a(99708),d=a(95155),c="AlertDialog",[u,f]=(0,s.A)(c,[n.Hs]),m=(0,n.Hs)(),x=e=>{let{__scopeAlertDialog:t,...a}=e,r=m(t);return(0,d.jsx)(n.bL,{...r,...a,modal:!0})};x.displayName=c,r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.l9,{...s,...r,ref:t})}).displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...a}=e,r=m(t);return(0,d.jsx)(n.ZL,{...r,...a})};h.displayName="AlertDialogPortal";var g=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.hJ,{...s,...r,ref:t})});g.displayName="AlertDialogOverlay";var p="AlertDialogContent",[v,j]=u(p),y=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:s,...c}=e,u=m(a),f=r.useRef(null),x=(0,l.s)(t,f),h=r.useRef(null);return(0,d.jsx)(n.G$,{contentName:p,titleName:b,docsSlug:"alert-dialog",children:(0,d.jsx)(v,{scope:a,cancelRef:h,children:(0,d.jsxs)(n.UC,{role:"alertdialog",...u,...c,ref:x,onOpenAutoFocus:(0,i.m)(c.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=h.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(o.xV,{children:s}),(0,d.jsx)(S,{contentRef:f})]})})})});y.displayName=p;var b="AlertDialogTitle",N=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.hE,{...s,...r,ref:t})});N.displayName=b;var w="AlertDialogDescription",A=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.VY,{...s,...r,ref:t})});A.displayName=w;var k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,s=m(a);return(0,d.jsx)(n.bm,{...s,...r,ref:t})});k.displayName="AlertDialogAction";var D="AlertDialogCancel",C=r.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:s}=j(D,a),i=m(a),o=(0,l.s)(t,s);return(0,d.jsx)(n.bm,{...i,...r,ref:o})});C.displayName=D;var S=e=>{let{contentRef:t}=e,a="`".concat(p,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(p,"` by passing a `").concat(w,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(p,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return r.useEffect(()=>{var e;document.getElementById(null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},z=x,L=h,E=g,R=y,I=k,U=C,O=N,V=A},22346:(e,t,a)=>{"use strict";a.d(t,{w:()=>n});var r=a(95155);a(12115);var s=a(87489),l=a(59434);function n(e){let{className:t,orientation:a="horizontal",decorative:n=!0,...i}=e;return(0,r.jsx)(s.b,{"data-slot":"separator-root",decorative:n,orientation:a,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},42246:(e,t,a)=>{Promise.resolve().then(a.bind(a,99816))},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>c,L3:()=>f,c7:()=>u,lG:()=>i,rr:()=>m});var r=a(95155);a(12115);var s=a(15452),l=a(54416),n=a(59434);function i(e){let{...t}=e;return(0,r.jsx)(s.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,r.jsx)(s.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,r.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...a})}function c(e){let{className:t,children:a,...i}=e;return(0,r.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,r.jsx)(d,{}),(0,r.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg min-w-fit",t),...i,children:[a,(0,r.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function f(e){let{className:t,...a}=e;return(0,r.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",t),...a})}function m(e){let{className:t,...a}=e;return(0,r.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}},69074:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71007:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},85977:(e,t,a)=>{"use strict";a.d(t,{H4:()=>b,_V:()=>y,bL:()=>j});var r=a(12115),s=a(46081),l=a(39033),n=a(52712),i=a(63655),o=a(95155),d="Avatar",[c,u]=(0,s.A)(d),[f,m]=c(d),x=r.forwardRef((e,t)=>{let{__scopeAvatar:a,...s}=e,[l,n]=r.useState("idle");return(0,o.jsx)(f,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,o.jsx)(i.sG.span,{...s,ref:t})})});x.displayName=d;var h="AvatarImage",g=r.forwardRef((e,t)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:d=()=>{},...c}=e,u=m(h,a),f=function(e,t){let[a,s]=r.useState("idle");return(0,n.N)(()=>{if(!e){s("error");return}let a=!0,r=new window.Image,l=e=>()=>{a&&s(e)};return s("loading"),r.onload=l("loaded"),r.onerror=l("error"),r.src=e,t&&(r.referrerPolicy=t),()=>{a=!1}},[e,t]),a}(s,c.referrerPolicy),x=(0,l.c)(e=>{d(e),u.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==f&&x(f)},[f,x]),"loaded"===f?(0,o.jsx)(i.sG.img,{...c,ref:t,src:s}):null});g.displayName=h;var p="AvatarFallback",v=r.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:s,...l}=e,n=m(p,a),[d,c]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),d&&"loaded"!==n.imageLoadingStatus?(0,o.jsx)(i.sG.span,{...l,ref:t}):null});v.displayName=p;var j=x,y=g,b=v},87489:(e,t,a)=>{"use strict";a.d(t,{b:()=>d});var r=a(12115),s=a(63655),l=a(95155),n="horizontal",i=["horizontal","vertical"],o=r.forwardRef((e,t)=>{var a;let{decorative:r,orientation:o=n,...d}=e,c=(a=o,i.includes(a))?o:n;return(0,l.jsx)(s.sG.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});o.displayName="Separator";var d=o},90010:(e,t,a)=>{"use strict";a.d(t,{$v:()=>x,EO:()=>c,Lt:()=>i,Rx:()=>h,Zr:()=>g,ck:()=>f,r7:()=>m,wd:()=>u});var r=a(95155);a(12115);var s=a(17649),l=a(59434),n=a(30285);function i(e){let{...t}=e;return(0,r.jsx)(s.bL,{"data-slot":"alert-dialog",...t})}function o(e){let{...t}=e;return(0,r.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,r.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(d,{}),(0,r.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function u(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function f(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,l.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function m(e){let{className:t,...a}=e;return(0,r.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,l.cn)("text-lg font-semibold",t),...a})}function x(e){let{className:t,...a}=e;return(0,r.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...a})}function h(e){let{className:t,...a}=e;return(0,r.jsx)(s.rc,{className:(0,l.cn)((0,n.r)(),t),...a})}function g(e){let{className:t,...a}=e;return(0,r.jsx)(s.ZD,{className:(0,l.cn)((0,n.r)({variant:"outline"}),t),...a})}},91394:(e,t,a)=>{"use strict";a.d(t,{BK:()=>i,eu:()=>n,q5:()=>o});var r=a(95155);a(12115);var s=a(85977),l=a(59434);function n(e){let{className:t,...a}=e;return(0,r.jsx)(s.bL,{"data-slot":"avatar",className:(0,l.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)(s._V,{"data-slot":"avatar-image",className:(0,l.cn)("aspect-square size-full",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,l.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}},92657:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(95155),s=a(12115),l=a(92657),n=a(13770),i=a(30285),o=a(66695),d=a(87481),c=a(88473),u=a(90010),f=a(69074),m=a(71007),x=a(54165),h=a(91394),g=a(22346);function p(e){let{isOpen:t,onClose:a,user:s}=e;return s?(console.log("user: ",s),(0,r.jsx)(x.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(x.Cf,{className:"max-w-md",children:[(0,r.jsx)(x.c7,{children:(0,r.jsx)(x.L3,{children:"User Details"})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(h.eu,{className:"h-16 w-16",children:[(0,r.jsx)(h.BK,{src:s.avatarUrl||"",alt:s.fullname}),(0,r.jsx)(h.q5,{children:s.fullname.split(" ").map(e=>e[0]).join("").toUpperCase()})]}),(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-xl font-semibold",children:s.fullname})})]}),(0,r.jsx)(g.w,{}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Date of Birth"})]}),(0,r.jsx)("p",{className:"font-medium",children:s.birthDate?new Date(s.birthDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Gender"})]}),(0,r.jsx)("p",{className:"font-medium",children:s.gender})]})]})]})]})})):null}function v(){let{toast:e}=(0,d.dj)(),[t,a]=(0,s.useState)([]),[f,m]=(0,s.useState)(!0),[x,h]=(0,s.useState)(null),[g,v]=(0,s.useState)(!1),[j,y]=(0,s.useState)(!1),[b,N]=(0,s.useState)(null),w=(0,s.useCallback)(async()=>{try{m(!0);let e=localStorage.getItem("token"),t=await c.A.get("/manage/children",{headers:{Authorization:"Bearer ".concat(e)}}),r=t.data.result||t.data||[];a(r)}catch(a){var t,r;e({title:"Error",description:(null==a?void 0:null===(r=a.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||(null==a?void 0:a.message)||"Failed to load users",variant:"destructive"})}finally{m(!1)}},[e]);(0,s.useEffect)(()=>{w()},[w]);let A=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),k=e=>{let a=t.find(t=>t.childId===e);a&&(h(a),v(!0))},D=async()=>{if(b)try{a(e=>e.filter(e=>e.childId!==b)),e({title:"Success",description:"User deleted successfully"})}catch(a){var t,r;e({title:"Error",description:(null==a?void 0:null===(r=a.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||(null==a?void 0:a.message)||"Failed to delete user",variant:"destructive"})}finally{N(null),y(!1)}},C=[{accessorKey:"childId",header:"ID",cell:e=>{let{row:t}=e;return t.getValue("childId")||"-"}},{accessorKey:"fullname",header:"Name"},{accessorKey:"birthDate",header:"DoB",cell:e=>{let{row:t}=e;return t.getValue("birthDate")?A(t.getValue("birthDate")):"-"}},{accessorKey:"gender",header:"Gender",cell:e=>{let{row:t}=e;return t.getValue("gender")||"-"}},{id:"actions",header:"Actions",cell:e=>{let{row:t}=e,a=t.getValue("childId");return(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>k(a),children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})})}}];return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"User Management"})}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"All Users"})}),(0,r.jsx)(o.Wu,{children:f?(0,r.jsx)("div",{className:"flex h-40 items-center justify-center",children:(0,r.jsx)("p",{children:"Loading users..."})}):(0,r.jsx)(n.b,{columns:C,data:t,searchColumn:"fullname",searchPlaceholder:"Search by name..."})})]}),(0,r.jsx)(p,{isOpen:g,onClose:()=>v(!1),user:x}),(0,r.jsx)(u.Lt,{open:j,onOpenChange:y,children:(0,r.jsxs)(u.EO,{children:[(0,r.jsxs)(u.wd,{children:[(0,r.jsx)(u.r7,{children:"Are you sure?"}),(0,r.jsx)(u.$v,{children:"This action cannot be undone. This will permanently delete the user and remove their data from our servers."})]}),(0,r.jsxs)(u.ck,{children:[(0,r.jsx)(u.Zr,{children:"Cancel"}),(0,r.jsx)(u.Rx,{onClick:D,className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[204,821,300,767,71,150,884,441,684,358],()=>t(42246)),_N_E=e.O()}]);