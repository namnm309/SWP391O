(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{17313:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>l,av:()=>d,j7:()=>o,tU:()=>i});var n=a(95155);a(12115);var s=a(60704),r=a(59434);function i(e){let{className:t,...a}=e;return(0,n.jsx)(s.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",t),...a})}function l(e){let{className:t,...a}=e;return(0,n.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function d(e){let{className:t,...a}=e;return(0,n.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...a})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>o});var n=a(95155);a(12115);var s=a(99708),r=a(74466),i=a(59434);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-2",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:r,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:r,className:t})),...d})}},34521:(e,t,a)=>{Promise.resolve().then(a.bind(a,71830))},40968:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var n=a(12115),s=a(63655),r=a(95155),i=n.forwardRef((e,t)=>(0,r.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},46262:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var n=a(95155),s=a(54165);function r(e){let{title:t,description:a,isOpen:r,onClose:i,children:o}=e;return(0,n.jsx)(s.lG,{open:r,onOpenChange:i,children:(0,n.jsxs)(s.Cf,{className:"max-h-[90vh] min-w-[60svw] overflow-y-auto",children:[(0,n.jsxs)(s.c7,{children:[(0,n.jsx)(s.L3,{children:t}),a&&(0,n.jsx)(s.rr,{children:a})]}),o]})})}},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>c,L3:()=>f,c7:()=>u,lG:()=>o,rr:()=>m});var n=a(95155);a(12115);var s=a(15452),r=a(54416),i=a(59434);function o(e){let{...t}=e;return(0,n.jsx)(s.bL,{"data-slot":"dialog",...t})}function l(e){let{...t}=e;return(0,n.jsx)(s.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,n.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...a})}function c(e){let{className:t,children:a,...o}=e;return(0,n.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,n.jsx)(d,{}),(0,n.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg min-w-fit",t),...o,children:[a,(0,n.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(r.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function f(e){let{className:t,...a}=e;return(0,n.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...a})}function m(e){let{className:t,...a}=e;return(0,n.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...a})}},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var n=a(52596),s=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,n.$)(t))}},60704:(e,t,a)=>{"use strict";a.d(t,{B8:()=>k,UC:()=>_,bL:()=>I,l9:()=>C});var n=a(12115),s=a(85185),r=a(46081),i=a(89196),o=a(28905),l=a(63655),d=a(94315),c=a(5845),u=a(61285),f=a(95155),m="Tabs",[p,v]=(0,r.A)(m,[i.RG]),x=(0,i.RG)(),[g,h]=p(m),b=n.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,onValueChange:s,defaultValue:r,orientation:i="horizontal",dir:o,activationMode:m="automatic",...p}=e,v=(0,d.jH)(o),[x,h]=(0,c.i)({prop:n,onChange:s,defaultProp:r});return(0,f.jsx)(g,{scope:a,baseId:(0,u.B)(),value:x,onValueChange:h,orientation:i,dir:v,activationMode:m,children:(0,f.jsx)(l.sG.div,{dir:v,"data-orientation":i,...p,ref:t})})});b.displayName=m;var j="TabsList",y=n.forwardRef((e,t)=>{let{__scopeTabs:a,loop:n=!0,...s}=e,r=h(j,a),o=x(a);return(0,f.jsx)(i.bL,{asChild:!0,...o,orientation:r.orientation,dir:r.dir,loop:n,children:(0,f.jsx)(l.sG.div,{role:"tablist","aria-orientation":r.orientation,...s,ref:t})})});y.displayName=j;var w="TabsTrigger",A=n.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,disabled:r=!1,...o}=e,d=h(w,a),c=x(a),u=T(d.baseId,n),m=D(d.baseId,n),p=n===d.value;return(0,f.jsx)(i.q7,{asChild:!0,...c,focusable:!r,active:p,children:(0,f.jsx)(l.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...o,ref:t,onMouseDown:(0,s.m)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(n)}),onKeyDown:(0,s.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(n)}),onFocus:(0,s.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||r||!e||d.onValueChange(n)})})})});A.displayName=w;var N="TabsContent",S=n.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:r,children:i,...d}=e,c=h(N,a),u=T(c.baseId,s),m=D(c.baseId,s),p=s===c.value,v=n.useRef(p);return n.useEffect(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.jsx)(o.C,{present:r||p,children:a=>{let{present:n}=a;return(0,f.jsx)(l.sG.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!n,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:n&&i})}})});function T(e,t){return"".concat(e,"-trigger-").concat(t)}function D(e,t){return"".concat(e,"-content-").concat(t)}S.displayName=N;var I=b,k=y,C=A,_=S},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var n=a(95155);a(12115);var s=a(59434);function r(e){let{className:t,type:a,...r}=e;return(0,n.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>r,aR:()=>i,wL:()=>c});var n=a(95155);a(12115);var s=a(59434);function r(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("flex flex-col gap-1.5 px-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}function c(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6",t),...a})}},69074:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71830:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(95155),s=a(12115),r=a(84616),i=a(69074),o=a(6277),l=a(30285),d=a(66695),c=a(17313),u=a(59434),f=a(46262),m=a(85057),p=a(88539),v=a(62523),x=a(87481),g=a(88473);function h(e){let{onClose:t}=e,{toast:a}=(0,x.dj)(),{user:r}=o.P.getState().profile,[i,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,b]=(0,s.useState)(!1),j=async e=>{e.preventDefault(),b(!0);try{let e=localStorage.getItem("token");(null==r?void 0:r.role)==="ADMIN"?await g.A.post("/notification/notifications/staff",{message:i},{headers:{Authorization:"Bearer ".concat(e)}}):(null==r?void 0:r.role)==="STAFF"&&(""!==c.trim()?await g.A.post("/notification/notifications",{userId:Number(c),message:i},{headers:{Authorization:"Bearer ".concat(e)}}):await g.A.post("/notification/all",{message:i},{headers:{Authorization:"Bearer ".concat(e)}})),a({title:"Success",description:"Notification sent successfully"}),t()}catch(e){a({title:"Error",description:"Failed to send notification",variant:"destructive"})}finally{b(!1)}};return(0,n.jsx)(f.F,{title:"Create Notification",description:"Fill in the details to send a notification",isOpen:!0,onClose:t,children:(0,n.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m.J,{htmlFor:"message",children:"Message"}),(0,n.jsx)(p.T,{id:"message",name:"message",rows:4,value:i,onChange:e=>d(e.target.value),required:!0})]}),(null==r?void 0:r.role)==="STAFF"&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m.J,{htmlFor:"targetUserId",children:"User ID (leave blank for all customers)"}),(0,n.jsx)(v.p,{id:"targetUserId",name:"targetUserId",type:"number",value:c,onChange:e=>u(e.target.value)})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,n.jsx)(l.$,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,n.jsx)(l.$,{type:"submit",disabled:h,children:h?"Sending...":"Send Notification"})]})]})})}function b(){let{user:e}=(0,o.P)(e=>e.profile),t=(0,o.P)(e=>e.notification.notifications)||[],a=(0,o.P)(e=>e.notification.sendedNotifications)||[],f=(0,o.P)(e=>e.fetchNotifications),m=(0,o.P)(e=>e.fetchSendedNotifications),p=(0,o.P)(e=>e.markAsRead),v=(0,o.P)(e=>e.markAllAsRead),[x,g]=(0,s.useState)("all"),[b,j]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&(f(),m())},[e,f,m]);let y="send"===x?a:t.filter(e=>("unread"!==x||!e.readStatus)&&("read"!==x||!!e.readStatus)),w=t.filter(e=>!e.readStatus).length;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Notifications"}),e&&("ADMIN"===e.role||"STAFF"===e.role)&&(0,n.jsxs)(l.$,{onClick:()=>{j(!0)},children:[(0,n.jsx)(r.A,{className:"mr-2 h-4 w-4"}),"Create Notification"]})]}),(0,n.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,n.jsx)(c.tU,{value:x,onValueChange:g,className:"w-full sm:w-auto",children:(0,n.jsxs)(c.j7,{children:[(0,n.jsx)(c.Xi,{value:"all",children:"All"}),(0,n.jsx)(c.Xi,{value:"unread",children:"Unread"}),(0,n.jsx)(c.Xi,{value:"read",children:"Read"}),(0,n.jsx)(c.Xi,{value:"send",children:"Send"})]})})}),(0,n.jsx)(d.Zp,{children:(0,n.jsx)(d.Wu,{className:"p-0",children:0===y.length?(0,n.jsx)("div",{className:"flex h-40 items-center justify-center",children:(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"No notifications found"})}):(0,n.jsxs)("div",{className:"divide-y",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between border-b p-3",children:[(0,n.jsx)("span",{className:"font-semibold",children:"send"===x?"Sent Notifications":"Notifications"}),"send"!==x&&w>0&&(0,n.jsx)(l.$,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-blue-600",onClick:()=>v(),children:"Read All"})]}),y.map(e=>(0,n.jsxs)("div",{className:(0,u.cn)("cursor-pointer p-4 transition-colors hover:bg-gray-50",!e.readStatus&&"bg-blue-50"),onClick:()=>{"send"!==x&&p(e.id)},children:[(0,n.jsx)("p",{className:"mt-1 line-clamp-2 text-sm text-muted-foreground",children:e.message}),(0,n.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-muted-foreground",children:[e.sender&&(0,n.jsxs)("span",{children:["From: ",e.sender]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(i.A,{className:"mr-1 h-3 w-3"}),(0,n.jsx)("span",{children:new Date(e.createdAt).toLocaleString()})]})]})]},e.id))]})})}),b&&(0,n.jsx)(h,{onClose:()=>{j(!1),f()}})]})}},84616:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},85057:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var n=a(95155);a(12115);var s=a(40968),r=a(59434);function i(e){let{className:t,...a}=e;return(0,n.jsx)(s.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},87481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m,oR:()=>f});var n=a(12115);let s={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},r=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),u({type:s.REMOVE_TOAST,toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case s.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case s.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case s.DISMISS_TOAST:{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case s.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}},d=[],c={toasts:[]};function u(e){c=l(c,e),d.forEach(e=>{e(c)})}function f(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>u({type:s.DISMISS_TOAST,toastId:a});return u({type:s.ADD_TOAST,toast:{...t,id:a,open:!0,onOpenChange:e=>{e||n()}}}),{id:a,dismiss:n,update:e=>u({type:s.UPDATE_TOAST,toast:{...e,id:a}})}}function m(){let[e,t]=n.useState(c);return n.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[]),{...e,toast:f,dismiss:e=>u({type:s.DISMISS_TOAST,toastId:e})}}},88473:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let n=a(23464).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let s=n},88539:(e,t,a)=>{"use strict";a.d(t,{T:()=>r});var n=a(95155);a(12115);var s=a(59434);function r(e){let{className:t,...a}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}},89196:(e,t,a)=>{"use strict";a.d(t,{RG:()=>y,bL:()=>C,q7:()=>_});var n=a(12115),s=a(85185),r=a(82284),i=a(6101),o=a(46081),l=a(61285),d=a(63655),c=a(39033),u=a(5845),f=a(94315),m=a(95155),p="rovingFocusGroup.onEntryFocus",v={bubbles:!1,cancelable:!0},x="RovingFocusGroup",[g,h,b]=(0,r.N)(x),[j,y]=(0,o.A)(x,[b]),[w,A]=j(x),N=n.forwardRef((e,t)=>(0,m.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(S,{...e,ref:t})})}));N.displayName=x;var S=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:r,loop:o=!1,dir:l,currentTabStopId:x,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:y=!1,...A}=e,N=n.useRef(null),S=(0,i.s)(t,N),T=(0,f.jH)(l),[D=null,I]=(0,u.i)({prop:x,defaultProp:g,onChange:b}),[C,_]=n.useState(!1),E=(0,c.c)(j),R=h(a),F=n.useRef(!1),[M,O]=n.useState(0);return n.useEffect(()=>{let e=N.current;if(e)return e.addEventListener(p,E),()=>e.removeEventListener(p,E)},[E]),(0,m.jsx)(w,{scope:a,orientation:r,dir:T,loop:o,currentTabStopId:D,onItemFocus:n.useCallback(e=>I(e),[I]),onItemShiftTab:n.useCallback(()=>_(!0),[]),onFocusableItemAdd:n.useCallback(()=>O(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>O(e=>e-1),[]),children:(0,m.jsx)(d.sG.div,{tabIndex:C||0===M?-1:0,"data-orientation":r,...A,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,s.m)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,s.m)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!C){let t=new CustomEvent(p,v);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=R().filter(e=>e.focusable);k([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),y)}}F.current=!1}),onBlur:(0,s.m)(e.onBlur,()=>_(!1))})})}),T="RovingFocusGroupItem",D=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:r=!0,active:i=!1,tabStopId:o,...c}=e,u=(0,l.B)(),f=o||u,p=A(T,a),v=p.currentTabStopId===f,x=h(a),{onFocusableItemAdd:b,onFocusableItemRemove:j}=p;return n.useEffect(()=>{if(r)return b(),()=>j()},[r,b,j]),(0,m.jsx)(g.ItemSlot,{scope:a,id:f,focusable:r,active:i,children:(0,m.jsx)(d.sG.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:(0,s.m)(e.onMouseDown,e=>{r?p.onItemFocus(f):e.preventDefault()}),onFocus:(0,s.m)(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:(0,s.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var n;let s=(n=e.key,"rtl"!==a?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return I[s]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let n=a.indexOf(e.currentTarget);a=p.loop?function(e,t){return e.map((a,n)=>e[(t+n)%e.length])}(a,n+1):a.slice(n+1)}setTimeout(()=>k(a))}})})})});D.displayName=T;var I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.activeElement;for(let n of e)if(n===a||(n.focus({preventScroll:t}),document.activeElement!==a))return}var C=N,_=D}},e=>{var t=t=>e(e.s=t);e.O(0,[747,716,71,758,277,441,684,358],()=>t(34521)),_N_E=e.O()}]);