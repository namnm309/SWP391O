(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{26126:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(95155);s(12115);var r=s(99708),i=s(74466),n=s(59434);let o=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,asChild:i=!1,...l}=e,d=i?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,n.cn)(o({variant:s}),t),...l})}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>l,r:()=>o});var a=s(95155);s(12115);var r=s(99708),i=s(74466),n=s(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-2",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:i,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,n.cn)(o({variant:s,size:i,className:t})),...d})}},53154:(e,t,s)=>{"use strict";s.d(t,{Sidebar:()=>C});var a=s(95155),r=s(12115),i=s(6874),n=s.n(i),o=s(35695),l=s(13052),d=s(42355),c=s(59434),u=s(42072),h=s(73783),f=s(17580),x=s(60576),m=s(23562),p=s(94498),v=s(50142),b=s(33761),g=s(57434),j=s(81497),y=s(23861),k=s(61106);let w={ROLE_CHILD:[],ROLE_CUSTOMER:[],STAFF:[{label:"Dashboard",icon:h.A,key:"dashboard",path:"/dashboard"},{label:"Patients",icon:f.A,key:"patients",subItems:[{label:"Parents",icon:f.A,key:"parents",path:"/parents"},{label:"Children",icon:x.A,key:"children",path:"/children"}]},{label:"Bookings",icon:m.A,key:"bookings",path:"/orders"},{label:"Products",icon:p.A,key:"category",subItems:[{label:"Categories",icon:v.A,key:"categories",path:"/categories"},{label:"Vaccines",icon:b.A,key:"vaccines",path:"/vaccines"}]},{label:"Post Management",icon:g.A,key:"post",path:"/posts"},{label:"Feedback",icon:j.A,key:"feedback",path:"/feedback"},{label:"Notifications",icon:y.A,key:"notifications",path:"/notifications"}],ADMIN:[{label:"Dashboard",icon:h.A,key:"dashboard",path:"/dashboard"},{label:"Management",icon:k.A,key:"management",subItems:[{label:"Users",icon:f.A,key:"users",path:"/users-management"},{label:"Staff",icon:k.A,key:"staff",path:"/staff-management"},{label:"Roles & Permissions",icon:k.A,key:"roles",path:"/roles-premission"}]},{label:"Products",icon:p.A,key:"category",subItems:[{label:"Categories",icon:v.A,key:"categories",path:"/categories"},{label:"Vaccines",icon:b.A,key:"vaccines",path:"/vaccines"}]},{label:"Feedback",icon:j.A,key:"feedback",path:"/feedback"},{label:"Notifications",icon:y.A,key:"notifications",path:"/notifications"}]};var N=s(30285),A=s(89613);function S(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(A.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function T(e){let{...t}=e;return(0,a.jsx)(S,{children:(0,a.jsx)(A.bL,{"data-slot":"tooltip",...t})})}function _(e){let{...t}=e;return(0,a.jsx)(A.l9,{"data-slot":"tooltip-trigger",...t})}function O(e){let{className:t,sideOffset:s=0,children:r,...i}=e;return(0,a.jsx)(A.ZL,{children:(0,a.jsxs)(A.UC,{"data-slot":"tooltip-content",sideOffset:s,className:(0,c.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[r,(0,a.jsx)(A.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var E=s(66766);function C(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),s=u.P.getState().profile,i=s?s.user:void 0,[h,f]=(0,r.useState)(!1),[x,m]=(0,r.useState)({});if((0,r.useEffect)(()=>{i&&"ROLE_CUSTOMER"!==i.role&&"ROLE_CHILD"!==i.role||t.push("/")},[i,t]),(0,r.useEffect)(()=>{h&&m({})},[h]),!i)return null;let p=e=>{m(t=>({...t,[e]:!t[e]}))},v=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e===t.path;if(t.subItems&&t.subItems.length>0){var i;return(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsxs)(N.$,{variant:"ghost",className:(0,c.cn)("flex w-full items-center justify-start gap-2 p-2 hover:bg-blue-50",s>0&&"pl-8",h&&"justify-center"),onClick:()=>p(t.key),children:[(0,a.jsx)(t.icon,{className:"h-5! w-5! text-black"}),!h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"flex-1 text-left",children:t.label}),(0,a.jsx)(l.A,{className:(0,c.cn)("h-4 w-4 transition-transform",x[t.key]&&"rotate-90")})]})]}),x[t.key]&&(0,a.jsx)("div",{className:(0,c.cn)("space-y-1 pl-2",h&&"absolute left-full top-0 z-50 ml-2 w-48 rounded-md border bg-white p-2 shadow-md"),children:null===(i=t.subItems)||void 0===i?void 0:i.map(e=>v(e,s+1))})]},t.key)}let o=(0,a.jsxs)("div",{className:(0,c.cn)("flex w-full items-center gap-2 rounded-md p-2",r?"bg-blue-100 text-blue-700":"hover:bg-blue-50 hover:text-blue-600",s>0&&"pl-8",h&&"justify-center"),children:[(0,a.jsx)(t.icon,{className:"h-5! w-5! text-black"}),!h&&(0,a.jsx)("span",{children:t.label})]});return t.onClick?(0,a.jsx)(N.$,{variant:"ghost",className:"w-full p-0",onClick:t.onClick,children:h?(0,a.jsx)(S,{children:(0,a.jsxs)(T,{children:[(0,a.jsx)(_,{asChild:!0,children:o}),(0,a.jsx)(O,{side:"right",children:t.label})]})}):o},t.key):(0,a.jsx)(n(),{href:t.path||"#",className:"block w-full",children:h?(0,a.jsx)(S,{children:(0,a.jsxs)(T,{children:[(0,a.jsx)(_,{asChild:!0,children:o}),(0,a.jsx)(O,{side:"right",children:t.label})]})}):o},t.key)},b=w[i.role]||[];return(0,a.jsxs)("div",{className:(0,c.cn)("flex h-screen flex-col border-r bg-white transition-all duration-300",h?"w-16":"w-64"),children:[(0,a.jsxs)("div",{className:"flex h-auto items-center justify-between px-4",children:[!h&&(0,a.jsx)("div",{className:"text-xl font-bold text-blue-600",children:(0,a.jsx)(E.default,{src:"/images/logo_demo.webp",alt:"VNVC logo",width:240,height:240,priority:!0})}),(0,a.jsx)(N.$,{variant:"ghost",size:"icon",onClick:()=>{f(e=>!e)},className:(0,c.cn)("ml-auto"),children:h?(0,a.jsx)(l.A,{className:"h-5 w-5"}):(0,a.jsx)(d.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-2",children:(0,a.jsx)("nav",{className:"space-y-1",children:b.map(e=>v(e))})})]})}},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(52596),r=s(39688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},87250:(e,t,s)=>{Promise.resolve().then(s.bind(s,92836)),Promise.resolve().then(s.bind(s,53154))},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>f,oR:()=>h});var a=s(12115);let r={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},i=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:r.REMOVE_TOAST,toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case r.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case r.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case r.DISMISS_TOAST:{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case r.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}},d=[],c={toasts:[]};function u(e){c=l(c,e),d.forEach(e=>{e(c)})}function h(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:r.DISMISS_TOAST,toastId:s});return u({type:r.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>u({type:r.UPDATE_TOAST,toast:{...e,id:s}})}}function f(){let[e,t]=a.useState(c);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[]),{...e,toast:h,dismiss:e=>u({type:r.DISMISS_TOAST,toastId:e})}}},88473:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let a=s(23464).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let r=a},91394:(e,t,s)=>{"use strict";s.d(t,{BK:()=>o,eu:()=>n,q5:()=>l});var a=s(95155);s(12115);var r=s(85977),i=s(59434);function n(e){let{className:t,...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(r._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}},92836:(e,t,s)=>{"use strict";s.d(t,{Header:()=>y});var a=s(95155),r=s(12115),i=s(35695),n=s(23861),o=s(66474),l=s(34835),d=s(42072),c=s(30285),u=s(48698),h=s(59434);function f(e){let{...t}=e;return(0,a.jsx)(u.bL,{"data-slot":"dropdown-menu",...t})}function x(e){let{...t}=e;return(0,a.jsx)(u.l9,{"data-slot":"dropdown-menu-trigger",...t})}function m(e){let{className:t,sideOffset:s=4,...r}=e;return(0,a.jsx)(u.ZL,{children:(0,a.jsx)(u.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function p(e){let{className:t,inset:s,variant:r="default",...i}=e;return(0,a.jsx)(u.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":r,className:(0,h.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function v(e){let{className:t,inset:s,...r}=e;return(0,a.jsx)(u.JU,{"data-slot":"dropdown-menu-label","data-inset":s,className:(0,h.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function b(e){let{className:t,...s}=e;return(0,a.jsx)(u.wv,{"data-slot":"dropdown-menu-separator",className:(0,h.cn)("bg-border -mx-1 my-1 h-px",t),...s})}var g=s(91394),j=s(26126);function y(){let e=(0,i.useRouter)(),{user:t}=(0,d.P)(e=>e.profile),s=(0,d.P)(e=>e.logout),u=(0,d.P)(e=>e.notification.notifications)||[],h=(0,d.P)(e=>e.notification.loading),y=(0,d.P)(e=>e.fetchNotifications),k=(0,d.P)(e=>e.markAsRead),w=(0,d.P)(e=>e.markAllAsRead);(0,r.useEffect)(()=>{y()},[y]);let N=u.filter(e=>!e.readStatus).length;return(0,a.jsx)("header",{className:"flex h-16 items-center justify-end border-b bg-white px-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-black"}),N>0&&(0,a.jsx)(j.E,{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 p-0 text-xs text-white",variant:"destructive",children:N})]})}),(0,a.jsxs)(m,{className:"w-80 p-0",align:"end",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b p-3",children:[(0,a.jsx)(v,{className:"font-semibold",children:"Notifications"}),N>0&&(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-blue-600",onClick:()=>w(),children:"Mark all as read"})]}),(0,a.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:u.length>0?u.map(e=>(0,a.jsxs)(p,{className:"flex cursor-pointer flex-col p-3 hover:bg-gray-50 ".concat(e.readStatus?"":"bg-blue-50"),onClick:()=>k(e.id),children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[!e.readStatus&&(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.message})]}),(0,a.jsx)("span",{className:"ml-6 w-full text-xs text-gray-500",children:new Date(e.createdAt).toLocaleString()})]},e.id)):(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:h?"Loading...":"No notifications"})}),(0,a.jsx)(b,{}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(c.$,{variant:"ghost",className:"w-full justify-center text-sm text-blue-600",onClick:()=>e.push("/notifications"),children:"View all notifications"})})]})]}),(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"ghost",className:"flex items-center gap-2 hover:bg-gray-100",children:[(0,a.jsxs)(g.eu,{className:"h-8 w-8",children:[(0,a.jsx)(g.BK,{src:"/images/placeholder-user.webp",alt:"User"}),(0,a.jsx)(g.q5,{children:"AD"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:null==t?void 0:t.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(null==t?void 0:t.email)||""})]}),(0,a.jsx)(o.A,{className:"h-4 w-4"})]})}),(0,a.jsxs)(m,{align:"end",className:"w-56",children:[(0,a.jsx)(v,{children:"My Account"}),(0,a.jsx)(b,{}),(0,a.jsxs)(p,{onClick:()=>{s(),e.push("/")},children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Log out"})]})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[204,821,300,767,758,766,212,72,441,684,358],()=>t(87250)),_N_E=e.O()}]);