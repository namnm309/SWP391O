(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{28940:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(95155),a=s(12115),i=s(21092),n=s(42072),o=s(31579);let d=e=>{let{children:t,isAllowed:s,redirectPath:a="/"}=e;return s?t:(0,r.jsx)(i.C5,{to:a})};var l=s(46879);let c=()=>{let e=(0,n.P)(e=>e.loading.isLoading);return(0,r.jsx)(r.Fragment,{children:e&&(0,r.jsx)("div",{className:"fixed inset-0 z-[9999999] flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-t-4 border-[#FE8282] border-opacity-50 border-t-[#FE8282]"})})})},u=()=>{let e=(0,n.P)(e=>e.profile.user),t=(0,a.useMemo)(()=>null==e?void 0:e.role,[e]),s=!!(null==e?void 0:e.token),c=[{path:"/",element:s&&("STAFF"===t||"ADMIN"===t)?(0,r.jsx)(i.C5,{to:"/dashboard"}):(0,r.jsx)(o.default,{})},{path:"/dashboard",element:(0,r.jsx)(d,{isAllowed:s&&("STAFF"===t||"ADMIN"===t),redirectPath:"/",children:(0,r.jsx)(l.default,{})})}];return(0,i.Ye)(c)},p=function(){return(0,r.jsxs)(i.Kd,{children:[(0,r.jsx)(u,{}),(0,r.jsx)(c,{})]})}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>o});var r=s(95155);s(12115);var a=s(99708),i=s(74466),n=s(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-2",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:i,asChild:d=!1,...l}=e,c=d?a.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,n.cn)(o({variant:s,size:i,className:t})),...l})}},31579:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(95155),a=s(12115),i=s(35695),n=s(62177),o=s(30285),d=s(62523),l=s(85057),c=s(66695),u=s(87481),p=s(42072),x=s(78749),m=s(92657);let h=()=>{let e=(0,p.P)(e=>e.login),t=(0,i.useRouter)(),{toast:s}=(0,u.dj)(),[h,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),{register:b,handleSubmit:S,formState:{errors:T}}=(0,n.mN)(),j=async r=>{try{await e(r.username,r.password),s({title:"Login Successful",description:"Welcome back!"}),t.push("/dashboard")}catch(e){console.error("Login failed",e),s({title:"Login Failed",description:"Please check your credentials and try again",variant:"destructive"})}};return(0,r.jsx)("div",{className:"flex h-screen w-screen flex-col items-center justify-center",children:(0,r.jsxs)(c.Zp,{className:"w-full md:w-[500px] mx-3 md:mx-0",children:[(0,r.jsxs)(c.aR,{className:"space-y-1",children:[(0,r.jsx)(c.ZB,{className:"text-2xl",children:"Login"}),(0,r.jsx)(c.BT,{children:"Enter your credentials to access your account"})]}),(0,r.jsxs)("form",{onSubmit:S(j),children:[(0,r.jsxs)(c.Wu,{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(l.J,{htmlFor:"username",children:"Username"}),(0,r.jsx)(d.p,{id:"username",type:"username",...b("username")}),T.username&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:T.username.message})]}),(0,r.jsxs)("div",{className:"grid gap-2 relative",children:[(0,r.jsx)(l.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(d.p,{id:"password",type:g?"text":"password",...b("password")}),(0,r.jsx)("span",{className:"absolute top-8 right-3 cursor-pointer text-gray-500",onClick:()=>v(!g),children:g?(0,r.jsx)(x.A,{}):(0,r.jsx)(m.A,{})}),T.password&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:T.password.message})]})]}),(0,r.jsx)(c.wL,{className:"mt-6 flex flex-col space-y-4",children:(0,r.jsx)(o.$,{type:"submit",className:"w-full",children:"Login"})})]})]})})}},41049:(e,t)=>{"use strict";Object.prototype.toString},62523:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(95155);s(12115);var a=s(59434);function i(e){let{className:t,type:s,...i}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},64916:(e,t,s)=>{Promise.resolve().then(s.bind(s,28940))},85057:(e,t,s)=>{"use strict";s.d(t,{J:()=>n});var r=s(95155);s(12115);var a=s(40968),i=s(59434);function n(e){let{className:t,...s}=e;return(0,r.jsx)(a.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>x,oR:()=>p});var r=s(12115);let a={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},i=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:a.REMOVE_TOAST,toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case a.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case a.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case a.DISMISS_TOAST:{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case a.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}},l=[],c={toasts:[]};function u(e){c=d(c,e),l.forEach(e=>{e(c)})}function p(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:a.DISMISS_TOAST,toastId:s});return u({type:a.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>u({type:a.UPDATE_TOAST,toast:{...e,id:s}})}}function x(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[]),{...e,toast:p,dismiss:e=>u({type:a.DISMISS_TOAST,toastId:e})}}},88473:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let r=s(23464).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let a=r}},e=>{var t=t=>e(e.s=t);e.O(0,[937,204,821,758,301,774,72,879,441,684,358],()=>t(64916)),_N_E=e.O()}]);